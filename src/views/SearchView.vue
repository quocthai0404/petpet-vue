<template>
  <div class="search">
    <h1 style="padding: 10px">Káº¿t quáº£ tÃ¬m kiáº¿m cho "{{ kw }}"</h1>

    <div v-if="!kw" class="empty">Vui lÃ²ng nháº­p tá»« khÃ³a Ä‘á»ƒ tÃ¬m kiáº¿m.</div>

    <div v-else>
      <!-- âœ… ProductList cÃ³ prop search -->
      <ProductList :search="kw" />
    </div>
  </div>
</template>

<script setup>
import { useRoute } from 'vue-router'
import { ref, watch } from 'vue'
import ProductList from '../components/ProductList.vue'

const route = useRoute()
const kw = ref(route.query.search || '')

// ðŸ”¥ láº¯ng query.search, update kw khi nÃ³ Ä‘á»•i
watch(
  () => route.query.search,
  (newVal) => {
    kw.value = newVal || ''
  },
)
</script>

<style scoped>
.search {
  padding: 10px;
}
.empty {
  padding: 16px;
  background: #fff;
  border-radius: 10px;
}
</style>
